<?xml version='1.0' encoding='UTF-8'?>
<document>
  <properties>
    <title>Use memory-related settings</title>
    <author>Shinsuke Sugaya</author>
  </properties>
  <body>
    <section name='The maximum value of heap memory changes'>
      <p>If the contents of the crawl settings cause OutOfMemory error similar to the following.</p>
      <source><![CDATA[
java.lang.OutOfMemoryError: Java heap space
]]></source>
      <p>Increase the maximum heap memory occur. bin/setenv. [sh | bat] to (in this case the maximum value set 1024M) will change to-Xmx1024m.</p>
      <source><![CDATA[
Windowsの場合
...-Dpdfbox.cjk.support=true -Xmx1024m

Unixの場合
...-Dpdfbox.cjk.support=true -Xmx1024m"
]]></source>
    </section>
    <section name='Crawler side memory maximum value changes'>
      <p>
        Crawler side memory maximum value can be changed.
      The default is 512 m.</p>
      <p>
        Unplug the commented out webapps/fess/WEB-INF/classes/fess.dicon crawlerJavaOptions to change, change the-Xmx1024m (in this case the maximum value set 1024M).
      </p>
      <source><![CDATA[
<component name="systemHelper" class="jp.sf.fess.helper.SystemHelper">
        <property name="adminRole">"fess"</property>
        <property name="authenticatedRoles">"role1"</property>
        <property name="crawlerJavaOptions">new String[] {
    "-Djava.awt.headless=true", "-server", "-XX:+UseGCOverheadLimit",
    "-XX:+UseConcMarkSweepGC", "-XX:+CMSIncrementalMode",
    "-XX:+UseTLAB", "-Dpdfbox.cjk.support=true", "-Xmx1024m",
    "-XX:MaxPermSize=128m" }</property>
</component>
]]></source>
    </section>
  </body>
</document>
